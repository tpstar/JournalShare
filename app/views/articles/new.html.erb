<h2>Add a New Article</h2>
<%= render :partial => 'form', :locals => {article: @article} %>
<div id="articleTitle">
</div>
<div id="articleResult">
</div>
<script type="text/javascript" charset="utf-8">
  $(function () {
    $('form').submit(function(event) {
      //prevent form from submitting the default way
      event.preventDefault();
      var values = $(this).serialize();
      var posting = $.post('/articles', values);
      posting.done(function(article) {
        $("#articleTitle").html("<h5>Thank you. You posted your article ; </h5><h5>" + article["title"] + "</h5>");
        $("#articleResult").html("<p><i>" + article["journal_id"] + "</i>" + //needs to change this to journal name
                                    "<strong> " + article["year"] + "</strong>" + //needs to not show when the attribute is empty
                                    "<i> " + article["vol"] + "</i>" +
                                    " (" + article["issue"] + ")" +
                                    " p" + article["start_page"])
        console.log(article);
      })
    });
  });
</script>
